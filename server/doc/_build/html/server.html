
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Server module &#8212; Mega Messenger beta 0.8 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Common package" href="common.html" />
    <link rel="prev" title="Welcome to Mega Messenger’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="server-module">
<h1>Server module<a class="headerlink" href="#server-module" title="Permalink to this headline">¶</a></h1>
<p>Server module of the messenger. Processes dictionaries - messages, stores public keys of clients.</p>
<p>Using</p>
<p>The module supports command line arguments:</p>
<ol class="arabic simple">
<li><p>-p - Port on which connections are accepted</p></li>
<li><p>-a - The address from which connections are received.</p></li>
</ol>
<p>Examples of using:</p>
<p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">server_main.py</span> <span class="pre">-p</span> <span class="pre">8080</span></code></p>
<p><em>Starting the server on the port 8080</em></p>
<p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">server_main.py</span> <span class="pre">-a</span> <span class="pre">localhost</span></code></p>
<p><em>Starting the server accepting only connections with localhost</em></p>
<div class="section" id="server-main-py">
<h2>server_main.py<a class="headerlink" href="#server-main-py" title="Permalink to this headline">¶</a></h2>
<p>The launched module contains the parser of command line arguments and application initialization functionality.</p>
<p>server. <strong>get_args</strong> ()</p>
<blockquote>
<div><p>Parser of command line arguments, returns a tuple of 3 elements:</p>
<ul class="simple">
<li><p>address from which to accept connections</p></li>
<li><p>port</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>server. <strong>read_config_file</strong> ()</dt><dd><p>Function to load configuration parameters from an .ini file.</p>
</dd>
</dl>
<dl class="class">
<dt id="server_main.Server">
<em class="property">class </em><code class="sig-prename descclassname">server_main.</code><code class="sig-name descname">Server</code><span class="sig-paren">(</span><em class="sig-param">listen_ip</em>, <em class="sig-param">listen_port</em>, <em class="sig-param">database</em><span class="sig-paren">)</span><a class="headerlink" href="#server_main.Server" title="Permalink to this definition">¶</a></dt>
<dd><p>Main class for connect with client</p>
<dl class="method">
<dt id="server_main.Server.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server_main.Server.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

<dl class="method">
<dt id="server_main.Server.update_lists">
<code class="sig-name descname">update_lists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server_main.Server.update_lists" title="Permalink to this definition">¶</a></dt>
<dd><p>A method that implements sending a service message to 205 clients.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="database-server-py">
<h2>database_server.py<a class="headerlink" href="#database-server-py" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="database_server.ServerDB">
<em class="property">class </em><code class="sig-prename descclassname">database_server.</code><code class="sig-name descname">ServerDB</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#database_server.ServerDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Create tables in database. Interacts with the database of this server</p>
<dl class="class">
<dt id="database_server.ServerDB.ActiveUsers">
<em class="property">class </em><code class="sig-name descname">ActiveUsers</code><span class="sig-paren">(</span><em class="sig-param">user_id</em>, <em class="sig-param">ip_addr</em>, <em class="sig-param">port</em>, <em class="sig-param">login_time</em><span class="sig-paren">)</span><a class="headerlink" href="#database_server.ServerDB.ActiveUsers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="database_server.ServerDB.AllUsers">
<em class="property">class </em><code class="sig-name descname">AllUsers</code><span class="sig-paren">(</span><em class="sig-param">login</em>, <em class="sig-param">fullname=None</em>, <em class="sig-param">password_hash=None</em>, <em class="sig-param">pubkey=None</em><span class="sig-paren">)</span><a class="headerlink" href="#database_server.ServerDB.AllUsers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="database_server.ServerDB.ContactsUsers">
<em class="property">class </em><code class="sig-name descname">ContactsUsers</code><span class="sig-paren">(</span><em class="sig-param">user_id</em>, <em class="sig-param">contact</em><span class="sig-paren">)</span><a class="headerlink" href="#database_server.ServerDB.ContactsUsers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="database_server.ServerDB.HistoryLogin">
<em class="property">class </em><code class="sig-name descname">HistoryLogin</code><span class="sig-paren">(</span><em class="sig-param">user_id</em>, <em class="sig-param">login_time</em>, <em class="sig-param">ip_addr</em>, <em class="sig-param">port</em><span class="sig-paren">)</span><a class="headerlink" href="#database_server.ServerDB.HistoryLogin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="database_server.ServerDB.UsersHistory">
<em class="property">class </em><code class="sig-name descname">UsersHistory</code><span class="sig-paren">(</span><em class="sig-param">user_id</em>, <em class="sig-param">send=0</em>, <em class="sig-param">accepted=0</em><span class="sig-paren">)</span><a class="headerlink" href="#database_server.ServerDB.UsersHistory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Mega Messenger</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Server module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#server-main-py">server_main.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#database-server-py">database_server.py</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="common.html">Common package</a></li>
<li class="toctree-l1"><a class="reference internal" href="logs.html">Logs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="gui_server.html">Gui server module</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to Mega Messenger’s documentation!</a></li>
      <li>Next: <a href="common.html" title="next chapter">Common package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Maria Afanaseva.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/server.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>